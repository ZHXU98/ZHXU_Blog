
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
<h2>【多重集组合数】_计数dp__Ant_Counting_POJ_-_3046_白书习题_or(题解推导公式未补完)</h2>
<div class="blogpost-body" id="cnblogs_post_body">
<p>poj.org/problem?id=3046</p>
<p>题意：</p>
<p>给出T种数字(蚂蚁)//同数字 同种类 统计时 1 1 2 和 1 2 1 是一样的</p>
<p>每种各有N[i]个 然后用这些数字构成一些序列， 长度在S 到 B 内 组合总数</p>
<p>直接上白书 的多重集组合数 除了用滚动数组减内存</p>
<p>其实我觉得这题比较难理解 书上那个公式具体怎么算的了</p>
<p>dp[ i + 1 ][ j ] =dp[ i + 1 ][ j - 1] + dp[ i ][ j ] - dp[ i ][ j - 1 -ai ]</p>
<pre class="has"><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;cstring&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;set&gt;
#include &lt;stack&gt;
#include &lt;list&gt; 
using namespace std;
typedef long long ll;

const int maxn = 1000+5 ;
const int maxv = 100*1000+5;
const int mod = 1000000 ;
const int INF = 0x3f3f3f3f;
const double PI=acos(-1.0);

int dp[2][maxv];
int used[maxn];

int main(){
	std::ios::sync_with_stdio(false);
	int T,A,S,B,x,ans=0;
	cin&gt;&gt;T&gt;&gt;A&gt;&gt;S&gt;&gt;B;
	for(int i=1;i&lt;=A;i++){
		cin&gt;&gt;x;
		used[x]++;
	}
	dp[0][0]=dp[1][0]=1;
	for(int i=1;i&lt;=T;i++)
		for(int j=1;j&lt;=B;j++)
			if(j-used[i]-1&gt;=0)dp[i%2][j]=(dp[(i-1)%2][j]+dp[i%2][j-1]-dp[(i-1)%2][j-used[i]-1]+mod)%mod;
			else dp[i%2][j]=(dp[(i-1)%2][j]+dp[i%2][j-1])%mod;
	for(int i=S;i&lt;=B;i++)
		ans=(ans+dp[T%2][i])%mod;
	cout&lt;&lt;ans&lt;&lt;endl;
	return 0;
} </code></pre>
<p>之后补上那个 公式 怎么推导 </p>
<p>未更完</p>
</div>
</body>
</html>
